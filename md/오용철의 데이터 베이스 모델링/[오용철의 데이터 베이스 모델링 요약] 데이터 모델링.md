# [오용철의 데이터 베이스 모델링 요약] 데이터 모델링

**목표**

- 데이터 모델링의 정의를 알아본다.
- 데이터 모델링의 종류에 대하여 알아본다.
- 엔티티-관계 모델이 무엇인지 알아본다.
- 엔티티, 애트리뷰트, 관계를 구분할 수 있어야 한다.
- 약한 엔티티와 소유 엔티티의 차이점을 알아본다.
- 애트리뷰트의 종류에 대하여 알아본다.
- 관계의 종류(일대일, 일대다, 다대다)에 대하여 알아본다.





## 1. 데이터 모델링



### 1) 데이터 모델의 종류

데이터 모델의 종류는 아래와 같다.

- **개념적 데이터 모델**(고수준 / 인간 친화적)
- **논리적 데이터 모델**(인간과 컴퓨터 모두에게 친화적)
- **물리적 데이터 모델**(저수준 / 컴퓨터 친화적)



#### (1) 개념적 데이터 모델

**개념적 데이터 모델이란?**

- 고수준의 데이터 모델로 전체 시스템에 대한 개념적인 정보를 나타낸다.
- 시스템 구축 시 <u>가장 먼저 작성</u>하는 모델 (스케치 역할)
- 개념적 데이터 모델의 구성요소 3가지
  - **Entity**(엔티티 또는 개체): 학생이나 과목 같이 구축하려는 대상의 사물에 해당
  - **Attribute**(속성): 학생의 이름이나 전화번호 또는 과목의 과목명 같이 엔티티가 갖는 특성
  - **Relationship**(관계): 특정 학생이 특정 과목을 수강 신청하는 것처럼 둘 이상의 엔티티 간의 연관성을 나타냄
- 다음 절에서 자세하게 소개할 **엔티티-관계 모델**(ER Model, Entity-Relationship Model)이 대표적인 개념적 데이터 모델이다.





**개념적 데이터 모델링 예시**

![](https://jistol.github.io/assets/img/database/database-data-modeling-base/3.jpg)





#### (2) 논리적 데이터 모델

**논리적 데이터 모델이란?**

- 개념적 데이터 모델을 좀 더 상세화하여 DB가 채택한 논리적 데이터 구조를 사용하여 모델링한 것
- 논리적 데이터 모델은 전체 데이터 구조에서 <u>가장 핵심을 이루는 모델</u>로서 전체 업무 범위와 업무 구성요소를 확인할 수 있다.
- 논리적 데이터 모델의 종류
  - **<u>관계형 데이터 모델</u>**
  - 그 외... (우리는 RDB를 주로 이용하기 때문에 관계형 데이터 모델이 제일 중요하다)





**관계형 데이터 모델**(Relational Data Model)이란?

- DB 구조를 이차원의 표를 이용하여 표현하는 모델

![](http://www.databaser.net/moniwiki/pds/_ea_b4_80_ea_b3_84_ed_98_95_eb_8d_b0_ec_9d_b4_ed_84_b0_eb_aa_a8_eb_8d_b8/r_model02.png)







**논리적 데이터 모델링 예시**

![](https://jistol.github.io/assets/img/database/database-data-modeling-base/4.gif)







#### (3) 물리적 데이터 모델

**물리적 데이터 모델이란?**

- 컴퓨터 내부에서 데이터들이 실제로 어떻게 저장되는가를 표현.
- 예를 들어, 레코드가 실제로 저장되는 형식이라든지, 특정 레코드를 효율적으로 탐색하는 구조인 접근 경로 등을 기술함.







**물리적 데이터 모델링 예시**

![](https://jistol.github.io/assets/img/database/database-data-modeling-base/5.png)







## 2. 엔티티-관계(Entity-Relationship) 모델

**엔티티-관계 모델(ER 모델)이란?**

- 대표적인 개념적 데이터 모델
- 엔티티, 속성, 관계 3가지를 이용해서 실세계를 개념적으로 표현하는 기법
- **ER 다이어그램**을 작성해 봄으로써 DB 설계를 쉽게 할 수 있다.
  - ER 다이어그램이란 사용자의 데이터 요구 사항을 다이어그램을 통해 간단히 기술한 것



### 1) ER 모델의 구성 요소

ER 모델은 3가지 구성 요소 엔티티, 속성, 관계로 구성된다.



- **엔티티**
  - 엔티티는 모델의 관리 대상을 말한다.
  - 엔티티는 사람과 물건, 장소 같은 실체가 있는 것뿐만 아니라 개념적인 것도 가능하다.
  - 시스템 구축 단계까지 진행되면 파일이나 <u>DB의 테이블</u>로 구현된다.
  - ER 다이어그램에서 사각형으로 표현된다.



- **속성(Attribute)**
  - 속성은 엔티티의 구성요소를 말한다.
  - ER 다이어그램에서는 타원으로 표현된다.



- **관계**
  - 엔티티 간의 관계를 나타내는 것.
  - 1:1, 1:N, M:N 등의 관계를 표현한다.
  - 비즈니스 규정(Rule)을 표현하는 데 주요한 역할을 한다.
  - ER 다이어그램에서는 마름모로 표현된다.





**ER 다이어그램 예시**

![](https://mblogthumb-phinf.pstatic.net/20120403_59/gongtong_13334434892804KkNI_JPEG/erd002.JPG?type=w2)



### 2) 엔티티와 엔티티 타입

**엔티티란?**

- 실제로 존재하는 대상과 개념적으로 존재하는 대상들을 표현
- ER 모델에서 가장 기본이 되며, 고유하게 식별되어야 한다.



**엔티티 예시**

| 분야별 | 가능한 엔티티        |
| ------ | -------------------- |
| 사람   | 학생, 교수, 사원     |
| 사건   | 강의, 면담           |
| 개념   | 강좌, 과목, 프로젝트 |





**엔티티 타입이란?**

- 여러 엔티티가 모여서 하나의 집단을 이룬 형태
- ER 다이어그램에서 엔티티 타입은 사각형으로 표현한다.



예를 들어, 대학교 DB를 모델링할 때 학과와 학생이라는 두 개의 엔티티 타입을 만들었다면

학과라는 엔티티 타입에는 컴퓨터공학과, 전자공학과라는 엔티티가 속해 있고,

학생이라는 엔티티 타입에는 정영석, 전지연, 백지예 등의 엔티티가 속해 있다.



보통 DB를 모델링하면서 엔티티와 엔티티 타입을 혼용해서 쓰는 경우가 많다.

보통 엔티티라고 줄여서 말하는 것이 사실은 엔티티 타입을 말하고 있다는 것을 명심하자.







**엔티티 타입의 분류**(강한 엔티티 타입&middot;약한 엔티티 타입)

- 강한 엔티티 타입
  - 독자적으로 존재하며, 엔티티 타입 내에서 자신의 키 애트리뷰트를 사용하여 고유하게 엔티티들을 식별할 수 있는 엔티티 타입을 의미함

- 약한 엔티티 타입
  - 자신의 키 애트리뷰트가 없는 엔티티 타입을 말한다.
  - 즉, 엔티티로 볼 수는 있지만 다른 엔티티에 종속되어서 해당 엔티티가 없다면 존재하지 않는 종속성을 가진다.
  - 그러나 반드시 키 애트리뷰트가 있다고 모두 다 강한 엔티티는 아니다. 수강 과목에 섹션이 있다면 이것은 수강 과목이 없어지면 더불어 없어지는 약한 엔티티이다.





### 3) 속성

엔티티 또는 관계가 갖는 성질이나 특성을 속성이라고 한다.

보통 엔티티는 반드시 하나 이상의 키 애트리뷰트를 갖고 있어서 나머지 속성을 유일하게 정의할 수 있다.

또한, 속성은 다음에서 설명하는 것처럼 기능상 몇 가지 종류가 있다.



- **단순 속성**(Simple Attribute)
  - 논리적으로 의미가 있는 원자값으로 이루어진 속성



- **키 속성**(Key Attribute)

  - 키 속성은 엔티티들을 식별할 수 있는 유일한 제약조건을 갖는 속성이다.

  - 학생 엔티티에는 모든 학생이 서로 다른 유니크한 학번을 갖고 있고, 학번을 알면 어떤 학생인지도 알 수 있다.

  - 키 속성은 인스턴스를 유일하게 식별해주어서 식별자라고도 한다.

  - 식별자가 두 개 이상일 경우 하나는 기본키로 정하고 나머지 것들은 후보키로 지정하는데, 

    보통 ER 다이어그램에서는 기본키나 후보키를 키 속성이라고 하고 모두 밑줄을 그어서 표시한다.



- **복합 속성**(Composite Attribute)

  - 복합 속성은 두 개 이상의 속성으로 이루어진다. 각각의 속성은 그 자체로도 독립적인 의미가 있다.

  - 예를 들어 외국인 이름을 보면, First Name, Middle initial, Last Name 등 3개로 이루어져 있고,

    주소는 도, 시, 구, 동, 아파트번호 등으로 이루어져 있다.



- **다치 속성**(Multivalue Attribute)
  - 다치 속성은 속성 하나에 여러 값이 들어갈 수 있는 속성이다.
  - 예를 들어, 학과 사무실에 전화가 여러 개 있다면 전화번호 속성에 여러 값이 들어갈 것이다.
  - 다치 속성은 ER 다이어그램에서 두 선으로 타원을 그려 표시한다.



- **유도된 속성**(Derived Attribute)
  - 속성에 실제 값이 저장되는 것이 아니라 저장된 값으로부터 계산해서 얻은 값을 사용하는 속성
  - 예를 들어, 나이 속성은 실제 나이를 저장하지 않고 생년월일(저장된 값)과 오늘 날짜로부터 계산해서 얻는다.



- **부분 키**(Partial Key)
  - 독립적인 키로는 존재할 수 없지만 상위 엔티티 타입의 키와 결합하여 약한 엔티티 타입의 개별 엔티티를 고유하게 식별하는 속성







### 4) 관계와 관계 타입

**관계 타입이란?**

- 엔티티 타입 간의 관계를 표현
- ER 다이어그램에서 마름모를 사용하여 표현
- 관계 타입은 일대일, 일대다, 다대다 관계가 있다.





#### (1) 식별 관계

**식별 관계란?**

- 식별 관계는 약한 엔티티를 식별할 때 사용하는 관계 타입으로 약한 엔티티에 연결된다.
- 약한 엔티티는 소유 엔티티에 의해 식별되기 때문에 <u>전체 참여 제약조건</u>을 갖는다.





#### (2) 카디널리티 비율(1:1, 1:N, M:N)

**카디널리티 비율이란?**

- 두 엔티티 타입 사이의 관계에서 참여자의 수를 표현하는 것





#### (3) 전체 참여와 부분 참여

- 전체 참여는 두 줄로 표현
- 부분 참여는 한 줄로 표현





#### (4) 관계 타입의 차수

**관계 타입의 차수란?**

- <u>참여하고 있는 엔티티 타입의 개수</u>를 관계 타입의 차수라고 한다.
- 대개는 차수가 2인 이진 관계이며, 차수가 1인 관계를 순환적 관계라고 한다.













